# generate openapi 3.0.0 auth management v1
# this is an prototype to generate an openapi with help llm tested on gemini
# for validation please ensure you separate length from regex

schema:
    - username:
        - length min 4 and max 20
        - only contain alphanumeric and _ symbol
    - password:
        - length min 8
        - must have lower character, uppercase character, number, and symbol
    - email:
        - regex valid email
    - birthdate:
        - regex valid birthdate
    - no_id:
        - length 10
        - only number
    - id:
        - uuid generate
    - role:
        - this is can be admin, user or another

base_url: /api/v1/auth

path:
    - post /login
        - body 
            - username: string 
            - password: string
        - 200:
            - success: true
        - 400:
            - success: false
            - message: string

    - post /register:
        - body
            - username: string
            - email: string
            - password: string
            - birthdate: string
        - 201:
            - success: true
        - 400:
            - success: false
            - message: string

    - get /logout
        - header: jwt-token
        - 200:
            - success: true

    - get /api/v1/me
        - header: jwt-token
        - 200:
            - id: string
            - username: string
            - email: string
            - birthdate: string
            - role: string
        - 401:
            - success: false
            - message: string

    - post /reset-password
        - description: request link reset password to email
        - body 
            - email: string
        - 201:
            - success: true
        - 400:
            - success: false
            - message: string
    
    - get /reset-password?token=<token>
        - description: 
        - query:
            - token: string
        - 200:
            - success: true
            - email: string
            - tokenReset: string
        - 400:
            - success: false
            - message: string
    
    - put /reset-password
        - description: 
        - body:
            - tokenReset: string
            - password: string
        - 200:
            - success: true
            - secret: string
        - 400:
            - success: false
            - message: string